<a:application xmlns:a="http://ajax.org/2005/aml">

    <a:model id="mdlAndroidRunConfigurations">
        <configurations />
    </a:model>

    <a:menu id="mnuAndroidRunCfg">	
        <a:item disabled="true" caption="no run history" />
        <a:divider></a:divider>
        <a:item onclick="require('ext/android_run/android_run').showRunConfigs(false)">Run Configurations ...</a:item>
    </a:menu>
        <!--
    <a:menu id="mnuAndroidDebugCfg">	
        <a:item disabled="true" caption="no run history" />
        <a:divider></a:divider>
        <a:item onclick="require('ext/android_run/android_run').showRunConfigs(true)">Run Configurations ...</a:item>
    </a:menu>/-->
    
    <a:window id="winAndroidRunCfgNew" 
      title="New Android Run Configuration" 
      model="{lstAndroidRunCfg.selected}"
      buttons="close" 
      modal="false"
      center="true" 
      width="350"
      height="400"
      kbclose="true">
        <a:vbox anchors="0 0 0 0">
        <a:toolbar>
            <a:bar>
            <a:button
              icon="debugger/monitorexpression_tsk{this.disabled ? '_disabled' : ''}.gif"
              caption="Add"
              onclick="require('ext/android_run/android_run').addConfig()"/>
            <a:button 
              icon="debugger/copy_edit_co{this.disabled ? '_disabled' : ''}.gif" 
              caption="Duplicate"
              onclick="require('ext/android_run/android_run').duplicate()"
              disabled="{!lstAndroidRunCfg.selected}"/>
            <a:button 
              icon="debugger/delete_config{this.disabled ? '_disabled' : ''}.gif"
              caption="Remove"
              onclick="lstAndroidRunCfg.remove()"
              disabled="{!lstAndroidRunCfg.selected}"/>
            </a:bar>
        </a:toolbar>
        <a:list id="lstAndroidRunCfg" 
          skin="lineselect"
          model="mdlAndroidRunConfigurations"
          each="[config]"
          caption="[@name]"
          empty-message="no run configurations"
          autoselect="true"
          flex="1"/>    			
            <a:divider />
            <a:hbox align="center" margin="5 10 5 10" padding="10">
                <a:label width="130" textalign="right">Name</a:label>
                <a:textbox id="txtAndroidRunCfgName" 
                  flex="1"
                  realtime="true"
                  value="[@name]"
                  disabled="{!lstAndroidRunCfg.selected}"/>
            </a:hbox>
            <a:divider />
            <a:hbox padding="5" pack="end" edge="10 10 5 10">
                <a:button 
                  default="2" 
                  class="ui-btn-green" 
                  onclick="require('ext/android_run/android_run').runConfig(lstAndroidRunCfg.selected, mdlAndroidRunConfigurations.data.getAttribute('debug') === '1');winAndroidRunCfgNew.hide()"
                  disabled="{!lstAndroidRunCfg.selected}"
                  caption="AndroidRun"/>
                <a:button onclick="winAndroidRunCfgNew.hide()">Close</a:button>
            </a:hbox>        
        </a:vbox>
    </a:window>
  
    <a:bar id="tbAndroidRun">
        <a:divider skin="c9-divider" /> 
                     <!--
        <a:splitbutton id="btnDebug"
          icon     = "bug.png"
          caption  = "android_debug"
          onclick  = "require('ext/android_run/android_run').run(true)"
          disabled = "{stProcessRunning.active and 1}"
          submenu  = "mnuAndroidDebugCfg" /> /-->
        <a:splitbutton
          icon     = "run.png"
          caption  = "android_run"
          onclick  = "require('ext/android_run/android_run').run(false)"
          disabled = "{stProcessRunning.active and 1}"
          submenu  = "mnuAndroidRunCfg" />
             <!--
        <a:button
          icon     = "stop.png"
          caption  = "stop"
          skin     = "c9-toolbarbutton"
          onclick  = "require('ext/android_run/android_run').stop()"
          disabled = "{!stProcessRunning.active and 1}" />
        <a:divider skin="c9-divider" />
        <a:button id="btnResume" tooltip="Resume"
          icon     = "play.png"
          onclick  = "dbg.continueScript();"
          skin     = "c9-toolbarbutton"
          disabled = "{!stDebugProcessRunning.active or stRunning.active}" />
        <a:button  tooltip="Suspend"
          skin     = "c9-toolbarbutton"
          icon     = "pause.png"
          onclick  = "dbg.suspend();"
          disabled = "{!stDebugProcessRunning.active or !stRunning.active}"/>
		<a:divider skin="c9-divider" />
    	<a:button id="btnStepInto" tooltip="Step Into"
    	  icon     = "stepinto.png" 
          skin     = "c9-toolbarbutton"
    	  onclick  = "dbg.stepInto();" 
    	  disabled = "{!stDebugProcessRunning.active or stRunning.active}" />
    	<a:button id="btnStepOver" tooltip="Step Over"
    	  icon     = "step.png"
          skin     = "c9-toolbarbutton"
    	  onclick  = "dbg.stepNext();"
    	  disabled = "{!stDebugProcessRunning.active or stRunning.active}" />
    	<a:button id="btnStepOut" tooltip="Step Out"
    	  icon     = "stepback.png" 
          skin     = "c9-toolbarbutton"
    	  onclick  = "dbg.stepOut();"
    	  disabled = "{!stDebugProcessRunning.active or stRunning.active}" />  /-->
  </a:bar>

</a:application>